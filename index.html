<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Amazon Part Picker</title>
<style>
body {background:#0f141b;color:#e8ecf2;font-family:Arial,sans-serif;margin:0;padding:0;}
header{background:#1a2530;padding:15px;text-align:center;}
.container{max-width:900px;margin:20px auto;padding:10px;}
input,button{padding:8px;margin:4px;border-radius:6px;border:none;}
input{width:60%;background:#111922;color:white;}
button{background:#2788f6;color:white;cursor:pointer;}
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px;margin-top:15px;}
.product{background:#1a242f;padding:10px;border-radius:8px;}
.product img{width:100%;height:160px;object-fit:cover;border-radius:6px;}
.product h3{margin:8px 0 4px 0;font-size:15px;}
.product p{margin:2px 0;color:#b5bcc3;font-size:13px;}
</style>
</head>
<body>
<header><h2>Mini Amazon Part Picker</h2></header>

<div class="container">
  <input id="searchInput" placeholder="Search Amazon items">
  <button onclick="searchAmazon()">Search</button>
  <div class="products" id="searchResults"></div>

  <div style="margin-top:15px;">
    <button onclick="openAmazonCart()">Continue (Amazon Cart)</button>
  </div>
</div>

<script>
let selectedASINs = [];

// Step 1: Show search results (links)
function searchAmazon() {
  const term = document.getElementById('searchInput').value.trim();
  if(!term) return alert("Type something to search!");
  const resultsDiv = document.getElementById('searchResults');
  resultsDiv.innerHTML = '';

  // Show top 5 search links as placeholders
  for(let i=1;i<=5;i++){
    const asin = prompt(`Enter ASIN for search result #${i} (Amazon page will open next)`,'');
    if(!asin) continue;
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `
      <img src="https://via.placeholder.com/250x160?text=Amazon+Item">
      <h3>Item ${i}</h3>
      <p>ASIN: ${asin}</p>
      <label><input type="checkbox" value="${asin}"> Select</label>
      <button onclick="openAmazonProduct('${asin}')">View on Amazon</button>
    `;
    resultsDiv.appendChild(div);
  }
}

// Step 2: Open individual product on Amazon
function openAmazonProduct(asin){
  window.open(`https://www.amazon.com/dp/${asin}`,'_blank');
}

// Step 3: Continue â†’ open Amazon cart
function openAmazonCart(){
  selectedASINs = Array.from(document.querySelectorAll('.products input[type=checkbox]:checked')).map(i=>i.value);
  if(selectedASINs.length===0) return alert("Select at least one item!");
  let url = 'https://www.amazon.com/gp/aws/cart/add.html?';
  selectedASINs.forEach((asin,i)=>{
    url += `ASIN.${i+1}=${asin}&Quantity.${i+1}=1&`;
  });
  window.open(url,'_blank');
}
</script>
</body>
</html>
